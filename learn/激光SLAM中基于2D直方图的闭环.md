# 激光SLAM中基于2D直方图的闭环

论文题目：A fast, complete, point cloud based loop closure for LiDAR odometry and mapping

loam livox是讲怎样做一个基于基于固态雷达的里程计，而本论文讲的是怎么样给这个里程计加闭环．

## 一．整体概述

既然是闭环设计，而且是基于特征的闭环，那么整个算法流程就可以按照下面的流程走：

１．特征提取和保存

２．闭环检测，也是基于特征做索引，找出相似帧

３．闭环匹配，即对相似的关键帧做帧间匹配，获得其相对位姿

４．优化，根据获得的相对位姿在概率图中添加对应的边，执行图优化，根据结果修正地图．

## 二．算法介绍

下面就各个流程中的各部分依次说明

### 1.计算２D直方图

这一步又分为一下几个小步骤

１）把点云划分为cell

把空间位置按照xyz坐标，分成多个cell，按照几何位置，把点云中的点分到对应的cell中，每个cell根据cell中点的坐标计算均值和方差，公式如下：

![image-20210516110305910](/home/zhx/zk/ROBOT/learn/image-20210516110305910.png)

２）对每个cell计算特征类型和方向

有了方差矩阵以后，我们对其进行特征值分解，按照特征值大小顺序，得到









